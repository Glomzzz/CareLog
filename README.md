# CareLog
CareLog is a small, extensible CLI-based care management prototype implemented in Python. It showcases a minimal set of features for managing patients, care staff (doctors/nurses), wellbeing logs, medical records, tasks, food deliveries, schedules and alerts. The implementation is intentionally lightweight and uses a JSON-backed datastore for persistence.

This README was generated by scanning the source in `app/` and `cli/` and summarizes implemented features, usage patterns, and how to run the project locally.

## Key features (implemented)

- Patient
	- Register and login (email/password)
	- Add encrypted wellbeing logs (pain level, mood, appetite, notes)
	- View wellbeing history (logs are reconstructed for decryption)
	- Update profile (email/phone)
	- Search care staff by name/department/specialization

- Nurse
	- Register and login
	- View assigned patients
	- View / update vital signs (with basic anomaly detection)
	- Administer medication (record administration)
	- Create and manage food deliveries (with allergy checks)
	- Coordinate care plans and manage pending tasks
	- View schedule, alerts and generate activity reports

- Doctor
	- Register and login
	- View patients and medical records
	- Update medical details, prescribe medications
	- Approve or update treatment plans and escalate to specialists
	- Manage appointments and schedules
	- View/handle patient alerts and generate reports

- Admin
	- Register and login as admin
	- Add, update, and remove patients
	- Add/update/remove care staff
	- Query patient information and carestaff patient counts

- Persistence & Utilities
	- JSON-backed DataStore persisted to `data/carelog_data.json` (atomic writes)
	- Simple upsert/get/delete helpers for collections
	- Models include `User` helpers (login, profile updates, password change) and higher-level service helpers in `app/carelog_service.py`

## Project layout

- `app/` - core service and small helper modules
	- `app/carelog_service.py` - high-level business logic (patient registration/login, wellbeing logs, search)
	- `app/user.py` - in-memory `User` dataclass with login/profile helpers
	- `app/data/datastore.py` - JSON-backed persistence layer
- `cli/` - role-based command-line interfaces
	- `cli/main_cli.py` - main entrypoint that delegates to role CLIs
	- `cli/patient_cli.py`, `cli/nurse_cli.py`, `cli/doctor_cli.py`, `cli/admin_cli.py`
- `model/` - domain models (patients, carestaffs, medical records, schedules, alerts, etc.)
- `data/` - default data file `carelog_data.json` (created at runtime if missing)
- `tests/` - pytest-based tests for models and functionality

## Requirements

Dependencies are listed in `requirements.txt`. Key dependencies used by the CLI are:

- Python 3.8+
- colorama (CLI colors)
- bcrypt (password checking for `User`)
- cryptography (models may use encryption helpers)
- pytest (tests)

Install with pip:

		pip install -r requirements.txt

## Running the CLI

You can run the top-level unified CLI which lets you choose a role (Patient, Nurse, Doctor, Admin):

		python3 cli/main_cli.py

Alternatively you can run a specific role CLI directly. Examples:

		python3 cli/patient_cli.py
		python3 cli/nurse_cli.py
		python3 cli/doctor_cli.py
		python3 cli/admin_cli.py

Notes on usage
- Patient flow: register -> login -> add wellbeing logs / view history / update profile / search staff
- Nurse flow: login/register -> manage vitals, medication, food deliveries, tasks, schedules
- Doctor flow: login/register -> view/update medical records, prescribe meds, handle alerts
- Admin flow: register/login -> manage patients and carestaff

## Data persistence

The app uses `app/data/datastore.py` to persist top-level collections into a JSON file at `data/carelog_data.json`. The DataStore provides safe, atomic writes and convenience methods such as `upsert`, `get_collection`, `get_by_id` and `delete_by_id`.

If you run the CLI and the `data/` directory or `carelog_data.json` is missing, it will be created automatically with the minimal structure.

## Tests

Run the test-suite with pytest:

		pytest

There are unit and functional tests under `tests/` which exercise models, serialization, and CLI-adjacent functionality.

## Contribution

1. Fork the repository
2. Work on a feature branch off `dev`
3. Run tests and make sure they pass
4. Push your branch and open a pull request back to `dev`

Please keep changes focused and include tests for new behavior.

## Notes and caveats

- This is a lightweight educational prototype. It is not production hardened.
- Sensitive fields (patient PHI) are partially handled via model helpers/encryption in the codebase; review `model/*` for details before extending.
- The CLI uses blocking input prompts and is intended for demonstration and local testing rather than high-concurrency deployments.

## License

See the `LICENSE` file in the repository.

## Upstream

Original repository: https://github.com/Glomzzz/CareLog
